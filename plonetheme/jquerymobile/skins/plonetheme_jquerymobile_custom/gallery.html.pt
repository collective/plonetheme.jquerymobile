<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="collective.gallery">

<body>

<div metal:fill-slot="main">
    <tal:main-macro metal:define-macro="main" 
           tal:define="size python:here.getObjSize(here);
                       content_type here/get_content_type|here/Format;
                       kssClassesView context/@@kss_field_decorator_view; 
                       getKssClasses nocall:kssClassesView/getKssClassesInlineEditable;
                       
                       getToolByName python:modules['Products.CMFCore.utils'].getToolByName;
                       plone_utils python:getToolByName(view.context,  'plone_utils');
                       galleryview here/@@gallery">
                       
        <div tal:replace="structure provider:plone.abovecontenttitle" />

        <h1 class="documentFirstHeading">
            <metal:field use-macro="python:here.widget('title', mode='view')">
                Title
            </metal:field>
        </h1>

        <div tal:replace="structure provider:plone.belowcontenttitle" />

        <div tal:replace="structure provider:plone.abovecontentbody" />

        <p class="documentDescription">
            <metal:field use-macro="python:here.widget('description', mode='view')">
            Description
            </metal:field>
        </p>
        
        <div id="gallery">

          <table style="width:100%" cellpadding="0" cellspacing="0">
            <tr>
              <td rowspan="2" style="vertical-align:top">
                <div id="galleryloading" style="display:none"><img tal:attributes="src string:${galleryview/context/portal_url}/spinner.gif" /></div>
                <div id="galleryphoto"></div>
              </td>
              <td style="vertical-align:top"><div id="gallerycaption"></div></td>
            </tr>
            <tr>
              <td style="vertical-align:bottom">
                <div id="gallerycontrol">
                    <table style="width:100%; margin:0; padding:0" cellpadding="0" cellspacing="0">
                    <tr>
                      <td><a href="" id="galleryprev" i18n:translate="">Previous</a></td>
                      <td style="text-align:center; width:100%">
                          <a href="" id="galleryplay"><img src="#" tal:attributes="src string:$portal_url/gallery-play.png" i18n:attributes="alt" alt="Play"/></a>
                          <a href="" id="gallerypause"><img src="#" tal:attributes="src string:$portal_url/gallery-pause.png" i18n:attributes="alt" alt="Pause"/></a>
                      </td>
                      <td><a href="" id="gallerynext" i18n:translate="">Next</a></td>
                    </tr>
                    </table>
                </div>
              </td>
            </tr>
          </table>
          
          <div id="gallerythumbs" style="display:none;">
              <a href="" id="gallerypageprev"><img src="#" tal:attributes="src string:$portal_url/gallery-thumbs-previous.png" i18n:attributes="alt" alt="Previous"/></a>
              <a href="" id="gallerypagenext"><img src="#" tal:attributes="src string:$portal_url/gallery-thumbs-next.png" i18n:attributes="alt" alt="Next"/></a>
              <ul class="thumbs noscript">
                <li tal:repeat="img galleryview/photos">
                  <a class="thumb" tal:attributes="title img/title;href img/url; name img/id" title="Title #0">
                    <img tal:attributes="src img/thumb_url;alt img/title" />
                  </a>
                  <div class="caption">
                    <h2 tal:content="img/title">Title</h2>
                    <p class="galleryphotodesc" tal:content="img/description">Description</p>
                    <a tal:attributes="href img/url" target="_blank" i18n:translate="">Download Original</a>
                  </div>
                </li>
              </ul>
          </div>
                
          <tal:comment condition="nothing"> Initial from collective.gallery
          <div id="gallerycontrol">
              <a href="" id="galleryprev" i18n:translate="">Previous</a>
              <a href="" id="galleryplay" i18n:translate="">Play</a>
              <a href="" id="gallerypause" i18n:translate="">Pause</a>
              <a href="" id="gallerynext" i18n:translate="">Next</a>
          </div>
          <div id="galleryloading" style="display:none"><img tal:attributes="src string:${galleryview/context/portal_url}/spinner.gif" /></div>
          <div id="galleryphoto"></div>
          <div id="gallerycaption"></div>
          <div id="gallerythumbs" style="display:none">
              <a href="" id="gallerypageprev">&lt;</a>
              <a href="" id="gallerypagenext">&gt;</a>
              <ul class="thumbs noscript">
                <li tal:repeat="img galleryview/photos">
                  <a class="thumb" tal:attributes="title img/title;href img/url; name img/id" title="Title #0">
                    <img tal:attributes="src img/thumb_url;alt img/title" />
                  </a>
                  <div class="caption">
                    <h2 tal:content="img/title">Title</h2>
                    <p class="galleryphotodesc" tal:content="img/description">Description</p>
                    <a tal:attributes="href img/url" target="_blank" i18n:translate="">Download Original</a>
                  </div>
                </li>
              </ul>
          </div>
          </tal:comment>
          
        </div>
        
        <p>
            <metal:field use-macro="python:here.widget('text', mode='view')">
            Text body
            </metal:field>
        </p>
            
        <div metal:use-macro="here/document_relateditems/macros/relatedItems">
            show related items if they exist
        </div>
    
        <div tal:replace="structure provider:plone.belowcontentbody" />

    </tal:main-macro>
</div>

</body>

</html>
